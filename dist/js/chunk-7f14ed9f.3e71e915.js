(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7f14ed9f"],{c24f:function(e,t,r){"use strict";r.d(t,"d",(function(){return o})),r.d(t,"b",(function(){return a})),r.d(t,"c",(function(){return s})),r.d(t,"a",(function(){return u})),r.d(t,"e",(function(){return i})),r.d(t,"g",(function(){return c})),r.d(t,"f",(function(){return l}));var n=r("b775"),o=function(e,t){return Object(n["a"])({url:"/app/v1_0/authorizations",method:"POST",data:{mobile:e,code:t}})},a=function(){return Object(n["a"])({method:"GET",url:"/app/v1_0/user"})},s=function(){return Object(n["a"])({method:"GET",url:"/app/v1_0/user/profile"})},u=function(e){return Object(n["a"])({method:"POST",url:"/app/v1_0/user/followings",data:{target:e}})},i=function(e){return Object(n["a"])({method:"DELETE",url:"/app/v1_0/user/followings/"+e})},c=function(e){return Object(n["a"])({method:"PATCH",url:"/app/v1_0/user/profile",data:e})},l=function(e){return Object(n["a"])({method:"PATCH",url:"/app/v1_0/user/photo",data:e})}},e383:function(e,t,r){"use strict";var n=r("f5aa"),o=r.n(n);o.a},efcf:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"login"},[r("van-nav-bar",{attrs:{title:"登陆页"}}),r("van-cell-group",[r("van-field",{attrs:{required:"",label:"手机号",placeholder:"请输入手机号","error-message":e.mobileErrMsg},model:{value:e.userInfo.mobile,callback:function(t){e.$set(e.userInfo,"mobile","string"===typeof t?t.trim():t)},expression:"userInfo.mobile"}}),r("van-field",{attrs:{required:"",label:"短信验证",placeholder:"请输入密码","error-message":e.codeErrMsg},model:{value:e.userInfo.code,callback:function(t){e.$set(e.userInfo,"code","string"===typeof t?t.trim():t)},expression:"userInfo.code"}})],1),r("div",{staticClass:"btn-wrap"},[r("van-button",{staticClass:"btn",attrs:{round:"",type:"info"},on:{click:e.hLogin}},[e._v("登录")])],1),r("van-button",{staticClass:"btn",attrs:{round:"",type:"info"},on:{click:e.hTest}},[e._v("获取个人信息")]),e._v(" 当前是否登陆？"+e._s(e.$store.getters.isLogin?"已登录":"未登录")+" ")],1)},o=[],a=(r("96cf"),r("1da1")),s=r("c24f"),u={name:"login",data:function(){return{userInfo:{mobile:"13912345678",code:"246810"},mobileErrMsg:"",codeErrMsg:""}},methods:{hTest:function(){Object(s["c"])()},validtor:function(){return this.mobileErrMsg=/\d{11}/.test(this.userInfo.mobile)?"":"手机号不对",this.codeErrMsg=/\d{6}/.test(this.userInfo.code)?"":"密码不对",""===this.mobileErrMsg&&""===this.codeErrMsg},hLogin:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var r,n,o,a,u,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.validtor()){t.next=2;break}return t.abrupt("return");case 2:return r=e.userInfo,n=r.mobile,o=r.code,e.$toast.loading({duration:0,overlay:!0,message:"加载中..."}),t.prev=5,t.next=8,Object(s["d"])(n,o);case 8:return a=t.sent,e.$store.commit("mSetToken",a.data.data),t.next=12,Object(s["c"])();case 12:u=t.sent,e.$store.commit("mSetUserInfo",u.data.data),e.$toast.success("登陆成功"),i=e.$route.query.jumpto||"/",e.$router.push(i),t.next=23;break;case 19:t.prev=19,t.t0=t["catch"](5),e.$toast.fail("登陆失败");case 23:case"end":return t.stop()}}),t,null,[[5,19]])})))()}}},i=u,c=(r("e383"),r("2877")),l=Object(c["a"])(i,n,o,!1,null,null,null);t["default"]=l.exports},f5aa:function(e,t,r){}}]);
//# sourceMappingURL=chunk-7f14ed9f.3e71e915.js.map