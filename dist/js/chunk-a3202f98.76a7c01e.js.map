{"version":3,"sources":["webpack:///./src/views/article/commentReply.vue?4b74","webpack:///./src/views/article/index.vue?7f9f","webpack:///./src/views/article/comment.vue?8175","webpack:///./src/views/article/commentReply.vue?abfc","webpack:///./src/api/comment.js","webpack:///src/views/article/commentReply.vue","webpack:///./src/views/article/commentReply.vue?fd22","webpack:///./src/views/article/commentReply.vue","webpack:///src/views/article/comment.vue","webpack:///./src/views/article/comment.vue?9342","webpack:///./src/views/article/comment.vue","webpack:///./src/components/author.vue?c81d","webpack:///src/components/author.vue","webpack:///./src/components/author.vue?7e59","webpack:///./src/components/author.vue","webpack:///src/views/article/index.vue","webpack:///./src/views/article/index.vue?a06c","webpack:///./src/views/article/index.vue","webpack:///./src/views/article/comment.vue?accd","webpack:///./src/views/article/index.vue?7a43","webpack:///./src/components/author.vue?6094"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","article","title","on","$event","$router","back","_e","_v","push","_s","directives","name","rawName","value","isYourself","expression","hSwitchFollow","is_followed","domProps","content","$route","params","id","staticRenderFns","finished","list","length","onLoad","model","callback","$$v","loading","_l","item","key","com_id","toString","staticStyle","aut_photo","slot","aut_name","_f","pubdate","hShowReplay","reply_count","trim","hAddComment","style","height","isReplyShow","currentComment","article_id","comment","$emit","index","hAddReply","addComment","articleId","ajax","method","url","data","target","addCommentReply","commentId","art_id","getComments","offset","type","source","getCommentReplys","replyId","props","Object","required","String","created","methods","component","components","CommentReply","author","_t","is404","computed","aut_id","$store","state","userInfo","loadArticle","Author","ArticleComment","beforeRouteLeave","to","path","tokenInfo","token","next","destroyed"],"mappings":"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","file":"js/chunk-a3202f98.76a7c01e.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./commentReply.vue?vue&type=style&index=0&id=00b6a71f&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./commentReply.vue?vue&type=style&index=0&id=00b6a71f&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"article-container\"},[_c('van-nav-bar',{attrs:{\"fixed\":\"\",\"left-arrow\":\"\",\"title\":_vm.article.title},on:{\"click-left\":function($event){return _vm.$router.back()}}}),(_vm.loading)?_c('van-loading',{staticClass:\"article-loading\"}):_vm._e(),(_vm.is404)?_c('div',{staticClass:\"error\"},[_c('p',[_vm._v(\"文章被外星人吃掉了\")]),_c('van-button',{on:{\"click\":function($event){return _vm.$router.back()}}},[_vm._v(\"后退\")]),_c('van-button',{on:{\"click\":function($event){return _vm.$router.push('/')}}},[_vm._v(\"回主页\")])],1):_c('div',[_c('div',{staticClass:\"detail\"},[_c('h3',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.article.title))]),_c('author',{attrs:{\"author\":_vm.article}},[_c('van-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isYourself),expression:\"!isYourself\"}],attrs:{\"round\":\"\",\"size\":\"small\",\"type\":\"info\"},on:{\"click\":_vm.hSwitchFollow}},[_vm._v(_vm._s(_vm.article.is_followed ? '取关' : '+ 关注'))])],1),_c('div',{staticClass:\"content\"},[_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.article.content)}})]),_c('van-divider',[_vm._v(\"END\")]),_c('div',{staticClass:\"zan\"},[_c('van-button',{attrs:{\"round\":\"\",\"size\":\"small\",\"hairline\":\"\",\"type\":\"primary\",\"plain\":\"\",\"icon\":\"good-job-o\"}},[_vm._v(\"点赞\")]),_vm._v(\" \"),_c('van-button',{attrs:{\"round\":\"\",\"size\":\"small\",\"hairline\":\"\",\"type\":\"danger\",\"plain\":\"\",\"icon\":\"delete\"}},[_vm._v(\"不喜欢\")])],1)],1),_c('article-comment',{attrs:{\"article_id\":_vm.$route.params.id}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"article-comments\"},[_c('van-list',{attrs:{\"finished\":_vm.finished,\"finished-text\":_vm.list.length===0 ? '没有评论' : '以上所有的评论'},on:{\"load\":_vm.onLoad},model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}},_vm._l((_vm.list),function(item){return _c('van-cell',{key:item.com_id.toString()},[_c('van-image',{staticStyle:{\"margin-right\":\"10px\"},attrs:{\"slot\":\"icon\",\"round\":\"\",\"width\":\"30\",\"height\":\"30\",\"src\":item.aut_photo},slot:\"icon\"}),_c('span',{staticStyle:{\"color\":\"#466b9d\"},attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(_vm._s(item.aut_name))]),_c('div',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_c('p',{staticStyle:{\"color\":\"#363636\"}},[_vm._v(_vm._s(item.content))]),_c('p',[_c('span',{staticStyle:{\"margin-right\":\"10px\"}},[_vm._v(_vm._s(_vm._f(\"relativeTime\")(item.pubdate)))]),_c('van-button',{attrs:{\"size\":\"mini\",\"type\":\"default\"},on:{\"click\":function($event){return _vm.hShowReplay(item)}}},[_vm._v(\"回复\"+_vm._s(item.reply_count))])],1)]),_c('van-icon',{attrs:{\"slot\":\"right-icon\",\"name\":\"like-o\"},slot:\"right-icon\"})],1)}),1),_c('van-cell-group',{staticClass:\"publish-wrap\"},[_c('van-field',{attrs:{\"clearable\":\"\",\"placeholder\":\"请输入评论内容\"},model:{value:(_vm.content),callback:function ($$v) {_vm.content=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"content\"}},[_c('van-button',{attrs:{\"slot\":\"button\",\"size\":\"mini\",\"type\":\"info\"},on:{\"click\":_vm.hAddComment},slot:\"button\"},[_vm._v(\"发布\")])],1)],1),_c('van-popup',{style:({ height: '85%' }),attrs:{\"round\":\"\",\"position\":\"bottom\"},model:{value:(_vm.isReplyShow),callback:function ($$v) {_vm.isReplyShow=$$v},expression:\"isReplyShow\"}},[(_vm.isReplyShow)?_c('comment-reply',{attrs:{\"comment\":_vm.currentComment,\"article_id\":_vm.article_id},on:{\"close\":function($event){_vm.isReplyShow=false}}}):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"article-comments\"},[_c('van-nav-bar',{attrs:{\"title\":_vm.comment.reply_count + '条回复'}},[_c('van-icon',{attrs:{\"slot\":\"left\",\"name\":\"cross\"},on:{\"click\":function($event){return _vm.$emit('close')}},slot:\"left\"})],1),_c('van-cell',{attrs:{\"title\":\"当前评论\"}},[_c('van-image',{staticStyle:{\"margin-right\":\"10px\"},attrs:{\"slot\":\"icon\",\"round\":\"\",\"width\":\"30\",\"height\":\"30\",\"src\":_vm.comment.aut_photo},slot:\"icon\"}),_c('span',{staticStyle:{\"color\":\"#466b9d\"},attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(_vm._s(_vm.comment.aut_name))]),_c('div',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_c('p',{staticStyle:{\"color\":\"#363636\"}},[_vm._v(_vm._s(_vm.comment.content))]),_c('p',[_c('span',{staticStyle:{\"margin-right\":\"10px\"}},[_vm._v(_vm._s(_vm._f(\"relativeTime\")(_vm.comment.pubdate)))]),_c('van-button',{attrs:{\"size\":\"mini\",\"type\":\"default\"}},[_vm._v(\"回复 \"+_vm._s(_vm.comment.reply_count))])],1)]),_c('van-icon',{attrs:{\"slot\":\"right-icon\"},slot:\"right-icon\"})],1),_c('van-divider',[_vm._v(\"全部回复\")]),_c('van-list',{attrs:{\"finished\":_vm.finished,\"finished-text\":\"没有更多了\"},on:{\"load\":_vm.onLoad},model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}},_vm._l((_vm.list),function(item,index){return _c('van-cell',{key:index},[_c('van-image',{staticStyle:{\"margin-right\":\"10px\"},attrs:{\"slot\":\"icon\",\"round\":\"\",\"width\":\"30\",\"height\":\"30\",\"src\":item.aut_photo},slot:\"icon\"}),_c('span',{staticStyle:{\"color\":\"#466b9d\"},attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(_vm._s(item.aut_name))]),_c('div',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_c('p',{staticStyle:{\"color\":\"#363636\"}},[_vm._v(_vm._s(item.content))]),_c('p',[_c('span',{staticStyle:{\"margin-right\":\"10px\"}},[_vm._v(_vm._s(_vm._f(\"relativeTime\")(item.pubdate)))])])])],1)}),1),_c('van-cell-group',{staticClass:\"publish-wrap\"},[_c('van-field',{attrs:{\"clearable\":\"\",\"placeholder\":\"请输入回复内容\"},model:{value:(_vm.content),callback:function ($$v) {_vm.content=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"content\"}},[_c('van-button',{attrs:{\"slot\":\"button\",\"size\":\"mini\",\"type\":\"info\"},on:{\"click\":_vm.hAddReply},slot:\"button\"},[_vm._v(\"发布\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// 评论相关的操作全封装在这里\r\n\r\nimport ajax from '@/utils/request'\r\n\r\n/**\r\n * 对文章进行评论\r\n * @param {*} articleId 文章编号\r\n * @param {*} content 评论内容\r\n */\r\nexport const addComment = (articleId, content) => {\r\n  return ajax({\r\n    method: 'POST',\r\n    url: '/app/v1_0/comments',\r\n    data: {\r\n      target: articleId,\r\n      content\r\n    }\r\n  })\r\n}\r\n\r\n/**\r\n * 对文章评论进行回复\r\n * @param {*} commentId  评论id\r\n * @param {*} articleId 文章id\r\n * @param {*} content 回复的内容\r\n */\r\nexport const addCommentReply = (commentId, articleId, content) => {\r\n  return ajax({\r\n    method: 'POST',\r\n    url: '/app/v1_0/comments',\r\n    data: {\r\n      target: commentId,\r\n      content,\r\n      art_id: articleId\r\n    }\r\n  })\r\n}\r\n\r\n/**\r\n * 获取文章的评论\r\n * @param {*} articleId 文章编号\r\n * @param {*} offset （翻页）获取评论数据的偏移量，值为评论id，表示从此id的数据向后取，不传表示从第一页开始读取数据\r\n */\r\nexport const getComments = (articleId, offset) => {\r\n  return ajax({\r\n    method: 'GET',\r\n    url: '/app/v1_0/comments',\r\n    params: {\r\n      type: 'a',\r\n      source: articleId,\r\n      offset\r\n    }\r\n  })\r\n}\r\n\r\n/**\r\n * 获取文章评论的回复\r\n * @param {*} replyId 评论编号\r\n * @param {*} offset （翻页）获取评论数据的偏移量，值为评论id，表示从此id的数据向后取，不传表示从第一页开始读取数据\r\n */\r\nexport const getCommentReplys = (replyId, offset) => {\r\n  return ajax({\r\n    method: 'GET',\r\n    url: '/app/v1_0/comments',\r\n    params: {\r\n      type: 'c',\r\n      source: replyId,\r\n      offset\r\n    }\r\n  })\r\n}\r\n","<template>\r\n<div class=\"article-comments\">\r\n    <!-- 导航栏 -->\r\n    <van-nav-bar :title=\"comment.reply_count + '条回复'\">\r\n      <!-- 通知父组件去关闭弹层 -->\r\n      <van-icon @click=\"$emit('close')\" slot=\"left\" name=\"cross\" />\r\n    </van-nav-bar>\r\n    <!-- /导航栏 -->\r\n\r\n    <!-- 当前评论 -->\r\n    <van-cell title=\"当前评论\">\r\n      <van-image\r\n        slot=\"icon\"\r\n        round\r\n        width=\"30\"\r\n        height=\"30\"\r\n        style=\"margin-right: 10px;\"\r\n        :src=\"comment.aut_photo\"\r\n      />\r\n      <span style=\"color: #466b9d;\" slot=\"title\">{{comment.aut_name}}</span>\r\n      <div slot=\"label\">\r\n        <p style=\"color: #363636;\">{{comment.content}}</p>\r\n        <p>\r\n          <span style=\"margin-right: 10px;\">{{comment.pubdate | relativeTime}}</span>\r\n          <van-button\r\n            size=\"mini\"\r\n            type=\"default\"\r\n          >回复 {{comment.reply_count}}</van-button>\r\n        </p>\r\n      </div>\r\n      <van-icon slot=\"right-icon\" />\r\n    </van-cell>\r\n    <!-- /当前评论 -->\r\n    <van-divider>全部回复</van-divider>\r\n\r\n    <!-- 对当前评论 回复列表 -->\r\n    <van-list\r\n      v-model=\"loading\"\r\n      :finished=\"finished\"\r\n      finished-text=\"没有更多了\"\r\n      @load=\"onLoad\"\r\n     >\r\n      <van-cell\r\n        v-for=\"(item, index) in list\"\r\n        :key=\"index\"\r\n      >\r\n        <van-image\r\n          slot=\"icon\"\r\n          round\r\n          width=\"30\"\r\n          height=\"30\"\r\n          style=\"margin-right: 10px;\"\r\n          :src=\"item.aut_photo\"\r\n        />\r\n        <span style=\"color: #466b9d;\" slot=\"title\">{{item.aut_name}}</span>\r\n        <div slot=\"label\">\r\n          <p style=\"color: #363636;\">{{item.content}}</p>\r\n          <p>\r\n            <span style=\"margin-right: 10px;\">{{item.pubdate | relativeTime }}</span>\r\n          </p>\r\n        </div>\r\n      </van-cell>\r\n    </van-list>\r\n    <!-- 回复列表 -->\r\n\r\n    <!-- 发布回复 -->\r\n    <van-cell-group class=\"publish-wrap\">\r\n      <van-field\r\n        clearable\r\n        placeholder=\"请输入回复内容\"\r\n        v-model.trim=\"content\"\r\n      >\r\n        <van-button\r\n          slot=\"button\"\r\n          size=\"mini\"\r\n          type=\"info\"\r\n          @click=\"hAddReply\"\r\n        >发布</van-button>\r\n      </van-field>\r\n    </van-cell-group>\r\n    <!-- /发布回复 -->\r\n</div>\r\n\r\n</template>\r\n<script>\r\nimport { getCommentReplys, addCommentReply } from '@/api/comment.js'\r\nexport default {\r\n  name: 'CommentReply',\r\n  props: {\r\n    comment: {\r\n      type: Object,\r\n      required: true\r\n    },\r\n    article_id: {\r\n      type: String,\r\n      required: true\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      content: '', // 回复的内容\r\n      offset: null, // 获取评论数据的偏移量，值为评论id，表示从此id的数据向后取，不传表示从第一页开始读取数据\r\n      list: [], // 评论列表\r\n      loading: false, // 上拉加载更多的 loading\r\n      finished: false // 是否加载结束\r\n    }\r\n  },\r\n  created () {\r\n    console.log('评论回复组件', this.$route.params.id)\r\n  },\r\n  methods: {\r\n    async hAddReply () {\r\n      if (this.content === '') {\r\n        return\r\n      }\r\n      try {\r\n        // 1. 发请求\r\n        // addCommentReply(评论id, 文章编号, 评论内容)\r\n        const result = await addCommentReply(this.comment.com_id.toString(), this.article_id, this.content)\r\n        // 在result中有一个new_obj这个值表示 本次评论的结果。\r\n\r\n        // 2. 更新视图。 把最新评论添加在评论列表的最上面\r\n        this.list.unshift(result.data.data.new_obj)\r\n\r\n        // 3. 清空评论区\r\n        this.content = ''\r\n\r\n        // 4. 反馈\r\n        this.$toast.success('发布回复成功')\r\n\r\n        // 5. 回复数量+1\r\n        this.comment.reply_count++\r\n      } catch (err) {\r\n        console.log(err)\r\n        this.$toast.fail('回复失败')\r\n      }\r\n    },\r\n    async onLoad () {\r\n      // 1. 请求评论回复数据\r\n      // 如果this.offset是null，则axios在传参时，会忽略这个参数\r\n      const result = await getCommentReplys(this.comment.com_id.toString(), this.offset)\r\n      this.offset = result.data.data.last_id\r\n\r\n      console.log(result)\r\n      const arr = result.data.data.results\r\n      // 2. 把请求回来的数据添加到list中\r\n      this.list.push(...arr)\r\n      // 3. 加载状态结束\r\n      this.loading = false\r\n      // 4. 判断是否全部的数据加载完成\r\n      this.finished = (arr.length === 0)\r\n      // this.finished = arr.length ? false : true\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n// 发表评论的区域是固定在下端的\r\n.publish-wrap {\r\n  position: fixed;\r\n  left: 0;\r\n  bottom: 0;\r\n  width: 100%;\r\n}\r\n// 给发表评论区空出地方\r\n.van-list {\r\n  margin-bottom: 45px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./commentReply.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./commentReply.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./commentReply.vue?vue&type=template&id=00b6a71f&scoped=true&\"\nimport script from \"./commentReply.vue?vue&type=script&lang=js&\"\nexport * from \"./commentReply.vue?vue&type=script&lang=js&\"\nimport style0 from \"./commentReply.vue?vue&type=style&index=0&id=00b6a71f&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"00b6a71f\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"article-comments\">\r\n    <!-- 评论列表 -->\r\n    <van-list\r\n      v-model=\"loading\"\r\n      :finished=\"finished\"\r\n      :finished-text=\"list.length===0 ? '没有评论' : '以上所有的评论'\"\r\n      @load=\"onLoad\"\r\n     >\r\n      <van-cell\r\n        v-for=\"item in list\"\r\n        :key=\"item.com_id.toString()\"\r\n        >\r\n        <van-image\r\n          slot=\"icon\"\r\n          round\r\n          width=\"30\"\r\n          height=\"30\"\r\n          style=\"margin-right: 10px;\"\r\n          :src=\"item.aut_photo\"\r\n        />\r\n        <span style=\"color: #466b9d;\" slot=\"title\">{{item.aut_name}}</span>\r\n        <div slot=\"label\">\r\n          <p style=\"color: #363636;\">{{item.content}}</p>\r\n          <p>\r\n            <span style=\"margin-right: 10px;\">{{item.pubdate | relativeTime }}</span>\r\n            <van-button size=\"mini\"\r\n            type=\"default\"\r\n            @click=\"hShowReplay(item)\"\r\n            >回复{{item.reply_count}}</van-button>\r\n          </p>\r\n        </div>\r\n        <van-icon slot=\"right-icon\" name=\"like-o\" />\r\n      </van-cell>\r\n    </van-list>\r\n    <!-- 评论列表 -->\r\n\r\n    <!-- 发布评论 -->\r\n    <van-cell-group class=\"publish-wrap\">\r\n      <van-field\r\n        clearable\r\n        placeholder=\"请输入评论内容\"\r\n        v-model.trim=\"content\"\r\n      >\r\n        <van-button slot=\"button\" size=\"mini\" type=\"info\" @click=\"hAddComment\">发布</van-button>\r\n      </van-field>\r\n    </van-cell-group>\r\n    <!-- /发布评论 -->\r\n\r\n    <!-- 评论回复 -->\r\n    <van-popup\r\n      v-model=\"isReplyShow\"\r\n      round position=\"bottom\"\r\n      :style=\"{ height: '85%' }\"\r\n      >\r\n      <!--  :comment=\"currentComment\" 向子组件传递当要评论的 那条数据 -->\r\n      <!--  @close=\"isReplyShow=false\"  收到子组件传递消息，关闭弹层 -->\r\n        <comment-reply\r\n        v-if=\"isReplyShow\"\r\n        @close=\"isReplyShow=false\"\r\n        :comment=\"currentComment\"\r\n        :article_id=\"article_id\"></comment-reply>\r\n    </van-popup>\r\n    <!-- 评论回复 -->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport CommentReply from './commentReply'\r\nimport { addComment, getComments } from '@/api/comment'\r\nexport default {\r\n  name: 'ArticleComment',\r\n  props: {\r\n    article_id: {\r\n      type: String,\r\n      required: true\r\n    }\r\n  },\r\n  components: {\r\n    CommentReply\r\n  },\r\n  data () {\r\n    return {\r\n      currentComment: {}, // 表示当前的评论回复组件 要 回复是评论是第一条\r\n      isReplyShow: false, // 是否显示评论回复\r\n      offset: null, // 获取评论数据的偏移量，值为评论id，表示从此id的数据向后取，不传表示从第一页开始读取数据\r\n      content: '', // 当前的评论内容\r\n      list: [], // 评论列表\r\n      loading: false, // 上拉加载更多的 loading\r\n      finished: false // 是否加载结束\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    // 用户在回复按钮点击了\r\n    hShowReplay (item) {\r\n      // 1. 显示弹层。--- 评论回复组件\r\n      this.isReplyShow = true\r\n\r\n      // 2. 当前评论传递给评论回复组件\r\n      this.currentComment = item\r\n    },\r\n    async hAddComment () {\r\n      if (this.content === '') {\r\n        return\r\n      }\r\n      try {\r\n        // 1. 发请求\r\n        // addComment(文章编号, 评论内容)\r\n        const result = await addComment(this.article_id, this.content)\r\n        // 在result中有一个new_obj这个值表示 本次评论的结果。\r\n\r\n        // 2. 更新视图。 把最新评论添加在评论列表的最上面\r\n        this.list.unshift(result.data.data.new_obj)\r\n\r\n        // 3. 清空评论区\r\n        this.content = ''\r\n\r\n        // 4. 反馈\r\n        this.$toast.success('发布评论成功')\r\n      } catch (err) {\r\n        console.log(err)\r\n        this.$toast.fail('评论失败')\r\n      }\r\n    },\r\n    async onLoad () {\r\n      // 1. 请求评论数据\r\n      // 如果this.offset是null，则axios在传参时，会忽略这个参数\r\n      const result = await getComments(this.article_id, this.offset)\r\n      this.offset = result.data.data.last_id\r\n\r\n      // console.log(result)\r\n      const arr = result.data.data.results\r\n      // 2. 把请求回来的数据添加到list中\r\n      this.list.push(...arr)\r\n      // 3. 加载状态结束\r\n      this.loading = false\r\n      // 4. 判断是否全部的数据加载完成\r\n      this.finished = (arr.length === 0)\r\n      // this.finished = arr.length ? false : true\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang='less'>\r\n// 发表评论的区域是固定在下端的\r\n.publish-wrap {\r\n  position: fixed;\r\n  left: 0;\r\n  bottom: 0;\r\n  width: 100%;\r\n}\r\n// 给发表评论区空出地方\r\n.van-list {\r\n  margin-bottom: 45px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./comment.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./comment.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./comment.vue?vue&type=template&id=3533ae4f&scoped=true&\"\nimport script from \"./comment.vue?vue&type=script&lang=js&\"\nexport * from \"./comment.vue?vue&type=script&lang=js&\"\nimport style0 from \"./comment.vue?vue&type=style&index=0&id=3533ae4f&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3533ae4f\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"author\"},[_c('van-image',{attrs:{\"round\":\"\",\"width\":\"1rem\",\"height\":\"1rem\",\"fit\":\"fill\",\"src\":_vm.author.aut_photo}}),_c('div',{staticClass:\"text\"},[_c('p',{staticClass:\"name\"},[_vm._v(_vm._s(_vm.author.aut_name))]),_c('p',{staticClass:\"time\"},[_vm._v(_vm._s(_vm._f(\"relativeTime\")(_vm.author.pubdate)))])]),_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <!-- 作者 -->\r\n  <div class=\"author\">\r\n    <van-image round width=\"1rem\" height=\"1rem\" fit=\"fill\"\r\n    :src=\"author.aut_photo\"/>\r\n    <div class=\"text\">\r\n      <p class=\"name\">{{author.aut_name}}</p>\r\n      <p class=\"time\">{{author.pubdate | relativeTime}}</p>\r\n    </div>\r\n    <slot>\r\n      <!-- 默认插槽 -->\r\n    </slot>\r\n  </div>\r\n  <!-- 作者 end-->\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'Author',\r\n  props: {\r\n    author: {\r\n      type: Object,\r\n      required: true\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.author {\r\n    padding: 10px 0;\r\n    display: flex;\r\n    .text {\r\n      flex: 1;\r\n      padding-left: 10px;\r\n      line-height: 1.3;\r\n      .name {\r\n        font-size: 14px;\r\n        margin: 0;\r\n      }\r\n      .time {\r\n        margin: 0;\r\n        font-size: 12px;\r\n        color: #999;\r\n      }\r\n    }\r\n  }\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./author.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./author.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./author.vue?vue&type=template&id=1e9c58c5&scoped=true&\"\nimport script from \"./author.vue?vue&type=script&lang=js&\"\nexport * from \"./author.vue?vue&type=script&lang=js&\"\nimport style0 from \"./author.vue?vue&type=style&index=0&id=1e9c58c5&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1e9c58c5\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"article-container\">\r\n    <!-- 导航栏 -->\r\n    <van-nav-bar\r\n      fixed\r\n      left-arrow\r\n      @click-left=\"$router.back()\"\r\n      :title=\"article.title\"\r\n    ></van-nav-bar>\r\n    <!-- /导航栏 -->\r\n\r\n    <!-- 加载中 loading -->\r\n    <van-loading v-if=\"loading\" class=\"article-loading\" />\r\n    <!-- /加载中 loading -->\r\n\r\n    <div class=\"error\" v-if=\"is404\">\r\n      <p>文章被外星人吃掉了</p>\r\n      <van-button @click=\"$router.back()\">后退</van-button>\r\n      <van-button @click=\"$router.push('/')\">回主页</van-button>\r\n    </div>\r\n    <div v-else>\r\n      <!-- 文章详情 -->\r\n      <div class=\"detail\">\r\n        <h3 class=\"title\">{{article.title}}</h3>\r\n        <author :author=\"article\">\r\n          <van-button\r\n            round\r\n            size=\"small\"\r\n            type=\"info\"\r\n            v-show=\"!isYourself\"\r\n            @click=\"hSwitchFollow\"\r\n          >{{ article.is_followed ? '取关' : '+ 关注'}}</van-button>\r\n        </author>\r\n\r\n        <!-- 作者 -->\r\n        <!-- <div class=\"author\">\r\n          <van-image round width=\"1rem\" height=\"1rem\" fit=\"fill\"\r\n          :src=\"article.aut_photo\"/>\r\n          <div class=\"text\">\r\n            <p class=\"name\">{{article.aut_name}}</p>\r\n            <p class=\"time\">{{article.pubdate | relativeTime}}</p>\r\n          </div>\r\n          <van-button\r\n            round\r\n            size=\"small\"\r\n            type=\"info\"\r\n            @click=\"hSwitchFollow\"\r\n          >{{ article.is_followed ? '取关' : '+ 关注'}}</van-button>\r\n        </div> -->\r\n        <!-- 作者 end-->\r\n\r\n        <div class=\"content\">\r\n          <div v-html=\"article.content\"></div>\r\n        </div>\r\n        <van-divider>END</van-divider>\r\n        <div class=\"zan\">\r\n          <van-button round size=\"small\" hairline type=\"primary\" plain icon=\"good-job-o\">点赞</van-button>\r\n          &nbsp;&nbsp;&nbsp;&nbsp;\r\n          <van-button round size=\"small\" hairline type=\"danger\" plain icon=\"delete\">不喜欢</van-button>\r\n        </div>\r\n      </div>\r\n      <!-- /文章详情 -->\r\n\r\n      <!-- 文章评论 -->\r\n      <article-comment :article_id=\"$route.params.id\"></article-comment>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport ArticleComment from './comment'\r\nimport Author from '@/components/author'\r\nimport { unFollowUser, followUser } from '@/api/user.js'\r\nimport { getArticle } from '@/api/article.js'\r\n\r\nexport default {\r\n  name: 'ArticleIndex',\r\n  data () {\r\n    return {\r\n      is404: false, // 文章是否存在\r\n      loading: true, // 控制加载中的 loading 状态\r\n      article: { } // 当前文章\r\n    }\r\n  },\r\n  computed: {\r\n    isYourself () {\r\n      if (!this.article.aut_id) {\r\n        return false\r\n      }\r\n      // eslint-disable-next-line eqeqeq\r\n      return this.article.aut_id == this.$store.state.userInfo.id\r\n    }\r\n  },\r\n  created () {\r\n    this.loadArticle()\r\n  },\r\n  components: {\r\n    Author,\r\n    ArticleComment\r\n  },\r\n  methods: {\r\n    async loadArticle () {\r\n      try {\r\n        const id = this.$route.params.id\r\n        const result = await getArticle(id)\r\n        this.article = result.data.data\r\n        this.loading = false // 结束loading\r\n      } catch (err) {\r\n        this.loading = false // 结束loading\r\n        if (err.response && err.response.status === 404) {\r\n          this.is404 = true\r\n        } else {\r\n          this.$toast.fail('文章加载失败')\r\n        }\r\n      }\r\n    },\r\n    // 如果这篇文章是自已写的。则不能自已关注自已！\r\n    async hSwitchFollow () {\r\n      try {\r\n        const isFollowed = this.article.is_followed\r\n        const autId = this.article.aut_id\r\n        // 根据当前的is_followed的值决定调用哪个 方法\r\n        // 如果 is_followed是true,在点击按钮，说明要做取关\r\n        if (isFollowed) {\r\n          const result = await unFollowUser(autId)\r\n          console.log(result)\r\n        } else {\r\n          // 如果 is_followed是false,在点击按钮，说明要做加关注\r\n          const result = await followUser(autId)\r\n          console.log(result)\r\n        }\r\n        // 更新视图\r\n        // 在本地取反\r\n        this.article.is_followed = !isFollowed\r\n\r\n        this.$toast.success('操作成功')\r\n      } catch (err) {\r\n        console.log(err)\r\n        this.$toast.fail('操作失败')\r\n      }\r\n    }\r\n  },\r\n  beforeRouteLeave (to, from, next) {\r\n    console.log('你现在在文章详情页，你将要离开这个页面')\r\n    console.log(to, from)\r\n    if (to.path === '/login' && this.$store.state.tokenInfo.token) {\r\n      // 如果你已经登陆了，则不能再回到Login了，只能回主页\r\n      next({ path: '/' })\r\n    } else {\r\n      next()\r\n    }\r\n  },\r\n  destroyed () {\r\n    console.log('文章详情页 destroyed')\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang='less'>\r\n.article-container{\r\n  position: absolute;\r\n  left: 0;\r\n  top: 0;\r\n  overflow-y: scroll;\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n.article-loading {\r\n  padding-top: 100px;\r\n  text-align: center;\r\n}\r\n.error{\r\n  padding-top: 100px;\r\n  text-align: center;\r\n}\r\n.detail {\r\n  padding: 50px 10px;\r\n  .title {\r\n    font-size: 16px;\r\n  }\r\n  .zan{\r\n    text-align: center;\r\n  }\r\n  .content {\r\n    font-size:14px;\r\n    overflow: hidden;\r\n    white-space: pre-wrap;\r\n    word-break: break-all;\r\n    /deep/ img{\r\n      max-width:100%;\r\n      background: #f9f9f9;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=1af4989e&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=1af4989e&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1af4989e\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./comment.vue?vue&type=style&index=0&id=3533ae4f&scoped=true&lang=less&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./comment.vue?vue&type=style&index=0&id=3533ae4f&scoped=true&lang=less&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=1af4989e&scoped=true&lang=less&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=1af4989e&scoped=true&lang=less&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./author.vue?vue&type=style&index=0&id=1e9c58c5&lang=less&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./author.vue?vue&type=style&index=0&id=1e9c58c5&lang=less&scoped=true&\""],"sourceRoot":""}